!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Utils",[],t):"object"==typeof exports?exports.Utils=t():e.Utils=t()}(window,function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},writable:!0,configurable:!0})},function(e,t,n){"use strict";n.r(t);n(0);function o(e,t){var n=e&&e.replace(/[A-Za-z]/,"").split("."),o=t&&t.replace(/[A-Za-z]/,"").split("."),r=Math.max(o.length,n.length),a=0,i=0,c=0;for(c=0;c<r;c+=1){if(a=Number(n[c])?Number(n[c]):0,(i=Number(o[c])?Number(o[c]):0)>a)return 1;if(i<a)return-1}return 0}var r={greater:function(e,t){return o(e,t)>0&&(console.log("v1 > v2"),!0)},smaller:function(e,t){return o(e,t)<0&&(console.log("v1 < v2"),!0)},equal:function(e,t){return 0===o(e,t)&&(console.log("v1 === v2"),!0)}};var a={onReachBottom:function(e,t,n){var o=e||window;n=n||0,o.onscroll=function(){(function(e){if(e)return e.scrollTop;var t=0,n=0;return document.body&&(t=document.body.scrollTop),document.documentElement&&(n=document.documentElement.scrollTop),t-n>0?t:n})(e)+("CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)-n===function(e){if(e)return e.scrollHeight;var t=0,n=0;return document.body&&(t=document.body.scrollHeight),document.documentElement&&(n=document.documentElement.scrollHeight),t-n>0?t:n}(e)&&(console.log("已经到最底部了"),t&&"function"==typeof t&&t())}}};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){var t;switch(i(e)){case"number":t=new Date(parseInt(e));break;case"string":if(isNaN(e)){var n=(e=e.replace(/-/g,"/").replace(/\+\d+/,"")).match(/^(.+?)\.(\d+)$/);t=n&&n[2]?new Date(+new Date(n[1])+parseInt(n[2])):new Date(e)}else t=c(parseInt(e));break;default:t=e instanceof Date?e:new Date}if("Invalid Date"==t)throw new Error("[TimeFormater Exception]: Invalid Date!");return t}function l(e,t,n){var o=function(e){if("number"==typeof e&&Math.abs(e)>(Number.MAX_SAFE_INTEGER||9007199254740991))throw new Error("[Util.number Exception]: Input number out of range.");var t=(e+"").replace(/^\s+|\s+$/g,"")||"0";if(/^[+-]?(?:[\da-f]+\.?|[\da-f]*\.[\da-f]+)$/i.test(t))return t;throw new Error("[Util.number Exception]: Invalid input number.")}(e),r=o.split(".");return r[0]=r[0].replace(/([+-]?)([\da-f]*)/i,function(e,r,a){var i=Math.max((t||0)-o.length,0);return"".concat(r).concat(Array(i+1).join(n||"0").substr(0,i)).concat(a)}),r[1]?r.join("."):r[0]}function s(e){return Array.isArray(e)}var u={timeLabel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getTime(),t=((new Date).getTime()-e)/1e3,n=Math.floor(t/86400);switch(n){case 0:return(t<60?"刚刚":t<120&&"1分钟前")||t<3600&&Math.floor(t/60)+"分钟前"||t<7200&&"1小时前"||t<86400&&Math.floor(t/3600)+"小时前";case 1:return"昨天";default:return n<7&&n+"天前"||Math.ceil(n/7)+"周前"}},getCalendars:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=new Date(e),r=(new Date).getTime(),a=[],i=new Date(r),c=i.getHours(),l=i.getMinutes(),s=i.getSeconds(),u=i.getMilliseconds(),d=0;d<t;d++){var f=e+864e5*d*n;o.setTime(f),o.setTime(o.setHours(c)),o.setTime(o.setMinutes(l)),o.setTime(o.setSeconds(s)),o.setTime(o.setMilliseconds(u));var p=o.getFullYear(),m=o.getMonth()+1,g=o.getDate(),h=o.getTime()-r,y=Math.floor(h/864e5),v=p+""+(m>=10?m:"0"+m)+(g>=10?g:"0"+g);-1===n?a.unshift({ts:f,d:v,td:y}):a.push({ts:f,d:v,td:y})}return a},stripHtmlTags:function(e){return String(e||"").replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")},stripScriptTags:function(e){return String(e||"").replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"")},escapeHtml:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39")},unescapeHtml:function(e){return e.replace(/&#39/g,"'").replace(/&quot/g,'"').replace(/&lt;/g,"<").replace(/&gt/g,">").replace(/&amp;/g,"&")},formatTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd HH:mm:ss";if(isNaN(e))return"";var n=c(e),o=function(e){return e.replace(/\\([yMdwhHmsf])/g,"$1\0")}(t),r={year:n.getFullYear(),month:n.getMonth()+1,date:n.getDate(),day:n.getDay(),hour:n.getHours(),minute:n.getMinutes(),second:n.getSeconds(),millisecond:n.getMilliseconds()},a={"(?:h(?!\0))+":r.hour>12?r.hour-12:r.hour,"(?:H(?!\0))+":r.hour,"(?:m(?!\0))+":r.minute,"(?:s(?!\0))+":r.second,"(?:M(?!\0))+":r.month,"(?:d(?!\0))+":r.date},i=function(e){o=o.replace(new RegExp(e,"g"),function(t){return l(a[e],Math.min(2,t.length))})};for(var s in a)i(s);return function(e){return e.replace(/([yMdwhHmsf])\0/g,"$1")}(o=(o=o.replace(/(?:f(?!\0))+/g,function(e){return l(r.millisecond,3).substr(0,Math.min(e.length,3))})).replace(/(?:y(?!\0))+/g,function(e){var t=r.year;return e.length<3?l(t%1e3,Math.min(e.length,2)):l(t,e.length)}))},countdown:function(e,t){var n=(e=c(e))-(t=c(t)),o=0,r=0,a=0,i=0,l=0,s=0,u=0;if(n>0){if(u=(o=Math.floor(n/31536e6))>0?n-31536e6*o:n,(r=Math.floor(u/2592e6))>0&&(u-=2592e6*r),(a=Math.floor(u/864e5))>0&&(u-=864e5*a),(i=Math.floor(u/36e5))>0&&(u-=36e5*i,i>24)){var d=Math.floor(i/24);a+=d,u-=864e5*d,u-=36e5*(i=Math.floor(u/36e5))}if((l=Math.floor(u/6e4))>0&&(u-=6e4*l,l>59)){var f=Math.floor(l/60);i+=f,u-=36e5*f,u-=6e4*(l=Math.floor(u/6e4))}if((s=Math.floor(u/1e3))>0&&(u-=1e3*s,s>59)){var p=Math.floor(s/60);l+=p,u-=6e4*p,u-=6e4*(s=Math.floor(u/1e3))}}var m={arr_time:[o,r,a,i,l,s],str_time:o+"年"+r+"月"+a+"天"+i+"小时"+l+"分"+s+"秒"};return console.log(m),m},formatMoney:function(e){return(e+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")},getRandom:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},isFunction:function(e){return"function"==typeof e},isArray:s,cloneObj:function e(t){var n;if(s(t)){n=[];for(var o=t.length;o--;)n[o]=e(t[o]);return n}if("[object Object]"===Object.prototype.toString.call(t)){for(var r in n={},t)n[r]=e(t);return n}return t},isEmptyObj:function(e){if(!e||"[object Object]"!==Object.prototype.toString.call(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},getCurMonthDays:function(){var e=new Date,t=e.getMonth();return e.setMonth(t+1),e.setDate(0),e.getDate()}},d="https://cdn.bootcss.com/vConsole/3.3.4/vconsole.min.js";var f=function(e,t,n){var o=document.createElement("script");o.onload=function(){t&&"function"==typeof t&&t()},o.onerror=function(){n&&"function"==typeof n&&n()},o.async=!0,o.src=e,document.getElementsByTagName("head")[0].appendChild(o)},p={open:function(){var e=window.location.hostname,t=window.location.protocol;-1===e.indexOf("dev")&&-1===e.indexOf("localhost")&&-1===e.indexOf("test")&&"file:"!==t||f(d,function(){window.VConsole&&new window.VConsole})},close:function(){var e=document.querySelector("#__vconsole");e&&e.remove()}},m={width:20,height:20,canClick:!0,loadCss:!1},g='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1574062685525" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="753" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20"><defs><style type="text/css"></style></defs><path d="M923 283.6c-13.4-31.1-32.6-58.9-56.9-82.8-24.3-23.8-52.5-42.4-84-55.5-32.5-13.5-66.9-20.3-102.4-20.3-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5-24.4 23.9-43.5 51.7-56.9 82.8-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3 0.1-35.3-7-69.6-20.9-101.9z" fill="#d81e06" p-id="754"></path></svg>';function h(e,t){var n=document.createElement("div");n.classList.add("icon-heart");var o="heart_"+(Math.random().toString(36).slice(2)+(new Date).getTime());n.id=o,n=function(e,t,n){return e.style.position="fixed",e.style.left=t+"px",e.style.top=n+"px",e.style.width=m.width+"px",e.style.height=m.height+"px",e}(n,e,t);var r=document.createElement("div");r.classList.add("bounceInUp"),r.innerHTML=g,n.appendChild(r),document.body.appendChild(n),function(){if(m.loadCss)return;var e=document.createElement("style");e.type="text/css";try{e.appendChild(document.createTextNode(".bounceInUp{animation-name: bounceInUp;animation-duration: 1.4s;animation-fill-mode: both;}")),e.appendChild(document.createTextNode("@keyframes bounceInUp{from{transform: translate3d(0, 0, 0);} to {transform: translate3d(0, -100px, 0); opacity: 0} }"))}catch(t){e.styleSheet.cssText=".bounceInUp{animation-name: bounceInUp;animation-duration: 1.4s; animation-fill-mode: both;}",e.styleSheet.cssText="@keyframes bounceInUp{from{transform: translate3d(0, 0, 0);}  to {transform: translate3d(0, -100px, 0); opacity: 0} }"}document.getElementsByTagName("head")[0].appendChild(e),m.loadCss=!0}(),function(e){var t=document.querySelector("#"+e);setTimeout(function(){t&&t.remove()},5e3)}(o)}var y={start:function(){document.addEventListener("click",function(e){var t=e.clientX,n=e.clientY;m.canClick&&h(t-m.width/2,n-m.height/2)},!1)},stop:function(){m.canClick=!1},restart:function(){m.canClick=!0}},v=[];function b(e,t,n,o){var r=document.createElement("div");r.classList.add("item"),r.style.position="absolute",r.style.width=o.width+"px";var a=document.createElement("img");a.src=t,a.style.width="100%",a.onload=function(){var e=a.clientHeight;if(n<o.column)r.style.top="0px",v.push(e);else{var t=function(e){return Math.min.apply(null,e)}(v),i=v.indexOf(t);n=i,r.style.top=o.diffY+t+"px",v[i]=t+e+o.diffY}r.style.left=(o.width+o.diffX)*n+"px"},a.classList.add("item-img"),a.classList.add("img"+n),r.appendChild(a),e.appendChild(r)}var w={init:function(e,t,n){var o=document.querySelector("#"+e);o.style.position="relative",o.style.width="100%",o.style.height=innerHeight+"px",t.map(function(e,t){b(o,e,t,n)})}};var x={set:function(e,t){try{window.localStorage.setItem(e,JSON.stringify(t))}catch(e){return null}},get:function(e){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):null}catch(e){return null}},remove:function(e){return window.localStorage.removeItem(e),!0},clear:function(){return window.localStorage.clear(),!0}},j="1.0.0",M="https://xxx.xxxxx.com/performance.gif",S={},O=function(){return new Promise(function(e,t){wx.getNetworkType({success:function(t){var n=t.networkType;e(n)},fail:function(){t("unknown")}})})},T=function(e,t){t&&"[object Object]"!=Object.prototype.toString.call(t)?console.log("invalid param type, expected object."):wx.getImageInfo({src:e+"?"+function(e){if("[object Object]"!=Object.prototype.toString.call(e))return console.log("invalid param type, expected object."),"";var t=[];for(var n in e)t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}(t),success:function(e){console.log("性能数据上报成功",e)}})},C={init:function(e){e&&"[object Object]"===Object.prototype.toString.call(e)&&function(e){var t,n,o;regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return t=wx.getSystemInfoSync(),r.next=3,regeneratorRuntime.awrap(O());case 3:n=r.sent,o={ts:(new Date).getTime(),sv:j,nt:n,os:t.platform,dm:t.brand+"-"+t.model,wv:t.version,sdkv:t.SDKVersion,ov:t.system,appid:"",type:"miniApp"},Object.assign(S,o,e);case 6:case"end":return r.stop()}})}(e)},start:function(e){if(!e||"[object String]"!==Object.prototype.toString.call(e))throw Error("pi不能为空&pi只能为字符串");Object.assign(S,{startTime:(new Date).getTime(),pi:e})},send:function(e){var t=(new Date).getTime()-S.startTime,n=!1;e&&0!=e&&"st"!==e||(S.st=t,n=!0),"frt"!==e&&1!=e||(S.frt=t,n=!1),"fst"!==e&&2!=e||(S.fst=t,n=!0),n&&(delete S.startTime,console.log("性能监控上报的数据: ",S),T(M,S))}};function I(e,t,n){var o=(n=n||{}).expires;"number"==typeof n.expires&&(o=new Date).setTime(o.getTime()+n.expires),document.cookie=e+"="+t+(n.path?"; path="+n.path:"")+(o?"; expires="+o.toGMTString():"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")}var D={set:function(e,t,n){I(e,encodeURIComponent(t),n)},get:function(e){var t=function(e){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)").exec(document.cookie);return t&&t[2]||null}(e);return"string"==typeof t?t=decodeURIComponent(t):null},remove:function(e,t){(t=t||{}).expires=new Date(0),I(e,"",t)}},E={createIndexedDB:function(e){var t=e.databaseName,n=e.version,o=e.success,r=e.fail,a=window.indexedDB.open(t,n),i="";a.onerror=function(e){console.log("数据库打开失败"),r&&r({msg:"数据库打开失败",e:e})},a.onsuccess=function(e){console.log("数据库打开成功"),i=a.result,o&&o()};var c=null;a.onupgradeneeded=function(t){i=t.target.result;var n=e.table_header,o=e.table_name,r=e.main_key;i.objectStoreNames.contains(o)||(c=i.createObjectStore(o,{keyPath:r,autoIncrement:!0}),n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0&&n.map(function(e){c.createIndex(e.key,e.key,{unique:!!e.unique&&e.unique})}))};return{add:function(e){var t=e.data,n=e.table_name,o=e.callback;if(n&&t){var r=i.transaction([n],"readwrite").objectStore(n),a=null;"[object Array]"===Object.prototype.toString.call(t)?t.length>0&&t.map(function(e){a=r.add(e)}):"[object Object]"===Object.prototype.toString.call(t)&&(a=r.add(t)),a.onsuccess=function(e){console.log("数据写入成功"),o&&o({code:1,e:e})},a.onerror=function(e){console.log("数据写入失败"),o&&o({code:-1,e:e})}}else o&&o({code:-1,msg:"table_name或data不能为空"})},get:function(e){var t=e.table_name,n=e.callback,o=e.index_key,r=e.index_value;t?function(e,t,n){var o=i.transaction(e).objectStore(e),r=[];o.openCursor().onsuccess=function(e){var n=e.target.result;n?(r.push(n.value),n.continue()):(console.log("没有更多数据了！"),t&&t(r))},o.openCursor().onerror=function(e){n&&n(e)}}(t,function(e){if(e&&e.length>0){var t=[];t=r?e.filter(function(e){return e[o]===r}):e,n&&n({code:1,data:t})}else n&&n({code:1,data:[]})},function(e){n&&n({code:-1,e:e})}):n&&n({code:-1,msg:"table_name不能为空"})},update:function(e){var t=e.table_name,n=e.data,o=e.callback;if(t&&n){var r=i.transaction([t],"readwrite").objectStore(t),a=null;"[object Array]"===Object.prototype.toString.call(n)?n.length>0&&n.map(function(e){a=r.put(e)}):"[object Object]"===Object.prototype.toString.call(n)&&(a=r.put(n)),a.onsuccess=function(e){console.log("数据更新成功"),o&&o({code:1,data:n,e:e})},a.onerror=function(e){console.log("数据更新失败"),o&&o({code:-1,e:e})}}else o&&o({code:-1,msg:"table_name或data不能为空"})},delete:function(e){var t=e.table_name,n=e.ids,o=e.callback;if(t&&n){var r=i.transaction([t],"readwrite").objectStore(t),a=null;n&&"[object Array]"===Object.prototype.toString.call(n)?n.length>0&&n.map(function(e){a=r.delete(e)}):a=r.delete(n),a.onsuccess=function(e){console.log("数据删除成功"),o&&o({code:1,e:e})},a.onerror=function(e){console.log("数据删除失败"),o&&o({code:-1,e:e})}}else o&&o({code:-1,msg:"table_name或id不能为空"})},clear:function(e){i.transaction(e,"readwrite").objectStore(e).clear()},remove:function(e){i.transaction(e,"versionchange"),i.deleteObjectStore(e)}}}};function k(e,t){e=e||{};var n=document.createElement("div");n.classList.add("seal-wrap");var o=Object.assign({border:"4px solid red",background:"transparent",borderRadius:"4px",lineHeight:1,fontSize:"20px",textAlign:"center",color:"red",display:"flex",justifyContent:"center",alignItems:"center",writingMode:"tb-rl"},e.style?e.style:{});for(var r in o)n.style[r]=o[r];t&&(n.style.width=n.style.height=e.size?e.size+"px":"50px"),n.innerText=e.text?e.text:"天下太平",document.body.appendChild(n)}var _={Seal:{init:function(e){var t=e.type,n=void 0===t?"square":t;"square"===n?k(e,!0):"rectangle"===n?function(e){e.style.width=e.width?e.width:"100px",e.style.height=e.height?e.height:"40px",e.style.writingMode="initial",k(e,!1)}(e):"circular"===n&&function(e){var t=document.createElement("canvas");t.height=t.width=e.size?e.size:"400";var n=t.getContext("2d");n.fillStyle="#ffffff",n.fillRect(0,0,e.size,e.size);var o=t.width/2,r=t.height/2;n.lineWidth=4,n.strokeStyle="#f00",n.beginPath(),n.arc(o,r,e.r,0,2*Math.PI),n.stroke(),function(e,t,n,o,r,a){e.save(),e.fillStyle=r,e.translate(t,n),e.rotate(Math.PI+a),e.beginPath();for(var i=Math.sin(0),c=Math.cos(0),l=Math.PI/5*4,s=0;s<5;s++)i=Math.sin(s*l),c=Math.cos(s*l),e.lineTo(i*o,c*o);e.closePath(),e.stroke(),e.fill(),e.restore()}(n,o,r,20,"#f00",0),n.font="8px 宋体",n.textBaseline="middle",n.textAlign="center",n.lineWidth=1,n.fillStyle="#f00",n.save(),n.translate(o,r+60),n.scale(1,1.8),n.fillText(e.text,0,0),n.restore(),n.translate(o,r),n.font="16px 宋体";for(var a,i=e.title.length,c=4*Math.PI/(3*(i-1)),l=e.title.split(""),s=0;s<i;s++)a=l[s],0==s?n.rotate(5*Math.PI/6):n.rotate(c),n.save(),n.translate(60,0),n.rotate(Math.PI/2),n.scale(1,1.8),n.fillText(a,0,0),n.restore();n.rotate(-Math.PI/6),n.translate(0-t.width/2,0-t.height/2),document.body.appendChild(t)}(e)}}};t.default={Version:r,H5:a,Common:u,Debug:p,Heart:y,WaterFull:w,LocalStorage:x,MiniAppPerformance:C,Cookies:D,IndexedDB:E,Comp:_}}]).default});
//# sourceMappingURL=utils.min.js.map